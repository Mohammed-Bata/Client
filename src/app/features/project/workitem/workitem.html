
    <form (ngSubmit)="createworkitem()" #f="ngForm">
        <textarea name="title"
        [(ngModel)]="title"
        required
        placeholder="what needs to be done?"></textarea>

        <div class="end">
            <div class="options">
                <div class="select-type" [class.open]="typeListOpen" (click)="openTypeList()">
                    <img [src]="getWorkItemIcon(selectedOption)" />
                    @if(!typeListOpen){
                        <svg fill="none" viewBox="0 0 16 16" role="presentation" class="list-arrow"><path fill="currentcolor" d="m14.53 6.03-6 6a.75.75 0 0 1-1.004.052l-.056-.052-6-6 1.06-1.06L8 10.44l5.47-5.47z"></path></svg>
                    }@else{
                        <svg fill="none" viewBox="0 0 16 16" role="presentation" class="list-arrow"><path fill="currentcolor" d="m14.53 9.97-6-6a.75.75 0 0 0-1.004-.052l-.056.052-6 6 1.06 1.06L8 5.56l5.47 5.47z"></path></svg>
                    }
                </div>
                @if(typeListOpen){
                    <div class="type-list">
                        @for(option of options;track option.value){
                            <div class="option" [class.selected]="selectedOption === option.value" (click)="select(option)">
                                <img src="../../../../assets/icons/WorkitemTypes/{{option.label}}.svg" />
                                {{option.label}}
                            </div>
                        }
                    </div>
                }
            </div>
           
            <div class="calender" [class.open]="datepickerOpen" (click)="toggleDatePicker()">
                <svg fill="none" viewBox="0 0 16 16" role="presentation" class="calender-icon"><path fill="currentcolor" fill-rule="evenodd" d="M4.5 2.5v2H6v-2h4v2h1.5v-2H13a.5.5 0 0 1 .5.5v3h-11V3a.5.5 0 0 1 .5-.5zm-2 5V13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V7.5zm9-6.5H13a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1.5V0H6v1h4V0h1.5z" clip-rule="evenodd"></path></svg>
                @if(!datepickerOpen && activeDay()){
                    <span class="date-text">{{ formattedDay() }}</span>
                }
                <app-calendar [class.hidden]="!datepickerOpen" (daySelected)="onDaySelected($event)"></app-calendar>
            </div>
            <div class="assigned" [class.open]="assignedOpen" (click)="toggleAssigned()">
                @if(!selectedMember()){
                    <svg fill="none" viewBox="-4 -4 24 24" role="presentation" class="assigned-icon"><path fill="currentcolor" fill-rule="evenodd" d="M8 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4 4a4 4 0 1 1 8 0 4 4 0 0 1-8 0m-2 9a3.75 3.75 0 0 1 3.75-3.75h4.5A3.75 3.75 0 0 1 14 13v2h-1.5v-2a2.25 2.25 0 0 0-2.25-2.25h-4.5A2.25 2.25 0 0 0 3.5 13v2H2z" clip-rule="evenodd"></path></svg>
                }@else{
                    <div class="assigned-member">
                        <div class="lets" [style.background-color]="selectedMember()!.id | avatarColor">{{selectedMember()!.name.substring(0,2).toUpperCase()}}</div>
                    </div>
                }
                <div class="members" [class.hidden]="!assignedOpen">
                    @for(member of teamMembers();track member.id){
                        <div class="member" (click)="selectedMember.set(member)" [class.selected]="selectedMember() && selectedMember()!.id === member.id">
                            <div class="letters" [style.background-color]="member.id | avatarColor">{{member.name | initials}}</div>
                            <div class="name">{{member.name}}</div>    
                        </div>
                    }
                </div>
            </div>

            <button type="submit" [disabled]="f.invalid" class="create">
                <span class="btn-icon">‚èé</span>
            </button>
        </div>
    </form>

